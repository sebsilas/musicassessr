

test_df <- tibble::tribble(
  ~start, ~N,                  ~melody,                                                             ~midi_file,                                                  ~musicxml_file,                              ~durations, ~freq,            ~rel_freq, ~log_freq, ~tonalness, ~tonal.clarity, ~tonal.spike,   ~mode, ~step.cont.glob.var, ~step.cont.glob.dir, ~step.cont.loc.var, ~d.entropy, ~d.eq.trans, ~mean_duration,                     ~value, ~mean_int_size, ~int_range, ~dir_change, ~mean_dir_change, ~int_variety, ~pitch_variety, ~mean_run_length, ~span,        ~i.entropy,
  19L,  3,                    "2,2",  "item_banks/Berkowitz/berkowitz_midi_rhythmic_100bpm/Berkowitz23.mid",  "item_banks/Berkowitz/berkowitz_musicxml/Berkowitz23.musicxml",                           "0.6,0.6,0.6", 1015L, 1.04755607335444e-05,    -11.47,       0.56,            1.3,         0.18, "major",                1.65,                0.94,               0.06,          0,           1,            0.6,                    "[2,2]",              2,          2,           0,                0,          0.5,              1,                0,     6, 0.222640205127417,
  24L,  3,                    "2,3", "item_banks/Berkowitz/berkowitz_midi_rhythmic_100bpm/Berkowitz174.mid", "item_banks/Berkowitz/berkowitz_musicxml/Berkowitz174.musicxml",                           "0.3,0.3,0.3",  172L,  1.7751689124824e-06,    -13.24,       0.73,            1.1,          0.2, "major",                2.07,                0.94,               0.08,          0,           1,            0.3,                    "[2,3]",            2.5,          3,           0,                0,            1,              1,                0,     7, 0.222640205127417,
  35L,  6,          "-2,5,-3,-2,-5", "item_banks/Berkowitz/berkowitz_midi_rhythmic_100bpm/Berkowitz287.mid", "item_banks/Berkowitz/berkowitz_musicxml/Berkowitz287.musicxml",               "0.6,0.6,0.6,0.6,0.6,0.6",    1L, 1.03207494911767e-08,    -18.39,       0.68,           1.15,         0.15, "major",                3.06,                -0.6,               0.26,          0,           1,            0.6,          "[-2,5,-3,-2,-5]",            3.4,          5,           2,              0.5,          0.8,           0.67,             0.67,    10, 0.269463648379464,
  53L,  2,                      "1", "item_banks/Berkowitz/berkowitz_midi_rhythmic_100bpm/Berkowitz430.mid", "item_banks/Berkowitz/berkowitz_musicxml/Berkowitz430.musicxml",                             "0.15,0.15", 3355L, 3.46261145428979e-05,    -10.27,       0.41,           1.01,         0.16, "minor",                 0.5,                0.87,               0.02,          0,           1,           0.15,                      "[1]",              1,          1,           0,               NA,            1,              1,                0,     3,  0.14047032975614,
  11L,  9, "10,-2,-10,2,12,-4,7,-3", "item_banks/Berkowitz/berkowitz_midi_rhythmic_100bpm/Berkowitz432.mid", "item_banks/Berkowitz/berkowitz_musicxml/Berkowitz432.musicxml", "0.9,0.3,2.25,0.15,0.9,0.3,1.8,0.3,0.3",    1L, 1.03207494911767e-08,    -18.39,       0.71,           1.17,          0.2, "minor",                5.86,                0.57,               0.81,       0.29,        0.12,            0.8, "[10,-2,-10,2,12,-4,7,-3]",           6.25,         12,           5,             0.71,            1,           0.67,             0.83,    17, 0.351633523750741,
  9L,  5,              "-1,-2,2,1", "item_banks/Berkowitz/berkowitz_midi_rhythmic_100bpm/Berkowitz550.mid", "item_banks/Berkowitz/berkowitz_musicxml/Berkowitz550.musicxml",                   "0.9,0.3,0.3,0.3,0.6",  102L, 1.05271644810003e-06,    -13.76,       0.52,           1.27,          0.2, "minor",                 1.1,                   0,               0.09,       0.19,         0.5,           0.48,              "[-1,-2,2,1]",            1.5,          2,           1,             0.33,            1,            0.6,              0.5,     3, 0.213785741353962,
  8L,  4,                 "1,2,-7", "item_banks/Berkowitz/berkowitz_midi_rhythmic_100bpm/Berkowitz105.mid", "item_banks/Berkowitz/berkowitz_musicxml/Berkowitz105.musicxml",                       "0.6,0.6,0.6,0.6",   56L, 5.77961971505897e-07,    -14.36,       0.84,           1.53,         0.21, "major",                2.57,               -0.42,               0.16,          0,           1,            0.6,                 "[1,2,-7]",           3.33,          7,           1,              0.5,            1,              1,              0.5,     7,  0.28094065951228,
  5L,  3,                    "3,9", "item_banks/Berkowitz/berkowitz_midi_rhythmic_100bpm/Berkowitz510.mid", "item_banks/Berkowitz/berkowitz_musicxml/Berkowitz510.musicxml",                         "0.15,0.15,0.3",    4L, 4.12829979647069e-08,       -17,       0.84,           1.61,         0.28, "minor",                5.14,                0.91,               0.19,       0.13,         0.5,            0.2,                    "[3,9]",              6,          9,           0,                0,            1,              1,                0,    14, 0.222640205127417,
  33L,  5,              "9,3,-2,-1", "item_banks/Berkowitz/berkowitz_midi_rhythmic_100bpm/Berkowitz121.mid", "item_banks/Berkowitz/berkowitz_musicxml/Berkowitz121.musicxml",                   "1.2,0.6,0.9,0.3,0.6",    3L, 3.09622484735302e-08,    -17.29,       0.72,           1.42,         0.27, "minor",                4.18,                0.63,               0.23,       0.27,           0,           0.72,              "[9,3,-2,-1]",           3.75,          9,           1,             0.33,            1,            0.8,              0.5,    14, 0.269973873256418,
  6L,  3,                  "-2,-5", "item_banks/Berkowitz/berkowitz_midi_rhythmic_100bpm/Berkowitz247.mid", "item_banks/Berkowitz/berkowitz_musicxml/Berkowitz247.musicxml",                           "0.6,0.6,0.3",  112L, 1.15592394301179e-06,    -13.67,       0.77,           1.13,         0.17, "major",                2.97,               -0.92,               0.11,       0.13,         0.5,            0.5,                  "[-2,-5]",            3.5,          5,           0,                0,            1,              1,                0,     7, 0.222640205127417,
  8L,  6,           "-1,-2,-1,1,2", "item_banks/Berkowitz/berkowitz_midi_rhythmic_100bpm/Berkowitz407.mid", "item_banks/Berkowitz/berkowitz_musicxml/Berkowitz407.musicxml",               "0.6,0.6,0.3,0.3,0.3,0.3",   56L, 5.77961971505897e-07,    -14.36,       0.56,           1.48,         0.22, "minor",                1.43,               -0.41,               0.11,       0.13,         0.8,            0.4,           "[-1,-2,-1,1,2]",            1.4,          2,           1,             0.25,          0.8,           0.67,              0.5,     4, 0.269463648379464,
  78L,  9, "-2,7,-3,-2,-2,12,-3,-2", "item_banks/Berkowitz/berkowitz_midi_rhythmic_100bpm/Berkowitz405.mid", "item_banks/Berkowitz/berkowitz_musicxml/Berkowitz405.musicxml",   "0.3,0.3,0.9,0.3,0.3,0.3,0.9,0.6,0.6",    1L, 1.03207494911767e-08,    -18.39,       0.86,           1.17,         0.19, "major",                   4,                0.57,               0.53,        0.2,         0.5,            0.5, "[-2,7,-3,-2,-2,12,-3,-2]",           4.12,         12,           4,             0.57,          0.5,           0.67,              0.8,    12, 0.351633523750741,
  49L,  2,                     "-8", "item_banks/Berkowitz/berkowitz_midi_rhythmic_100bpm/Berkowitz612.mid", "item_banks/Berkowitz/berkowitz_musicxml/Berkowitz612.musicxml",                               "1.2,0.6",  170L, 1.75452741350004e-06,    -13.25,       0.69,            1.3,         0.22, "major",                4.03,               -0.87,               0.13,       0.14,           0,            0.9,                     "[-8]",              8,          8,           0,               NA,            1,              1,                0,     8,  0.14047032975614,
  14L,  9,   "-2,-2,-1,-2,2,1,2,-7", "item_banks/Berkowitz/berkowitz_midi_rhythmic_100bpm/Berkowitz263.mid", "item_banks/Berkowitz/berkowitz_musicxml/Berkowitz263.musicxml",   "0.3,0.3,0.3,0.3,0.3,0.3,0.3,1.2,0.6",    4L, 4.12829979647069e-08,       -17,       0.74,           1.29,         0.17, "major",                2.59,                -0.6,               0.31,       0.14,        0.75,           0.43,   "[-2,-2,-1,-2,2,1,2,-7]",           2.38,          7,           2,             0.29,         0.62,           0.67,             0.67,     9, 0.351633523750741,
  9L,  4,                "8,-2,-1", "item_banks/Berkowitz/berkowitz_midi_rhythmic_100bpm/Berkowitz132.mid", "item_banks/Berkowitz/berkowitz_musicxml/Berkowitz132.musicxml",                      "0.3,0.6,0.3,0.45",    8L, 8.25659959294138e-08,    -16.31,       0.66,           1.68,         0.25, "minor",                2.97,                0.48,               0.17,       0.21,           0,           0.41,                "[8,-2,-1]",           3.67,          8,           1,              0.5,            1,              1,              0.5,    10,  0.28094065951228,
  32L,  4,                 "-1,6,2", "item_banks/Berkowitz/berkowitz_midi_rhythmic_100bpm/Berkowitz591.mid", "item_banks/Berkowitz/berkowitz_musicxml/Berkowitz591.musicxml",                       "0.3,0.6,0.9,0.3",    1L, 1.03207494911767e-08,    -18.39,       0.65,           1.25,         0.19, "major",                3.37,                0.87,               0.14,       0.21,           0,           0.52,                 "[-1,6,2]",              3,          6,           1,              0.5,            1,              1,              0.5,     8,  0.28094065951228,
  11L,  5,               "1,-1,1,2",  "item_banks/Berkowitz/berkowitz_midi_rhythmic_100bpm/Berkowitz88.mid",  "item_banks/Berkowitz/berkowitz_musicxml/Berkowitz88.musicxml",                   "0.9,0.3,0.6,0.9,0.3",   74L, 7.63735462347078e-07,    -14.09,       0.46,           1.11,         0.18, "minor",                 1.1,                0.76,               0.08,       0.21,           0,            0.6,               "[1,-1,1,2]",           1.25,          2,           2,             0.67,         0.75,            0.6,             0.67,     5, 0.213785741353962,
  4L,  7,        "2,-2,-1,-2,-2,2",  "item_banks/Berkowitz/berkowitz_midi_rhythmic_100bpm/Berkowitz73.mid",  "item_banks/Berkowitz/berkowitz_musicxml/Berkowitz73.musicxml",         "0.6,0.45,0.15,0.3,0.3,1.2,0.3",   13L, 1.34169743385297e-07,    -15.82,       0.74,           1.18,         0.18, "minor",                2.21,               -0.84,               0.18,        0.3,        0.17,           0.47,        "[2,-2,-1,-2,-2,2]",           1.83,          2,           2,              0.4,          0.5,           0.71,             0.67,     7, 0.314081311783303,
  13L,  7,        "-2,-3,1,-7,-1,1", "item_banks/Berkowitz/berkowitz_midi_rhythmic_100bpm/Berkowitz347.mid", "item_banks/Berkowitz/berkowitz_musicxml/Berkowitz347.musicxml",           "1.2,1.2,0.6,0.6,1.2,0.3,0.3",    1L, 1.03207494911767e-08,    -18.39,       0.47,           1.06,         0.16, "major",                4.54,               -0.93,               0.24,       0.22,         0.5,           0.77,        "[-2,-3,1,-7,-1,1]",            2.5,          7,           3,              0.6,         0.83,           0.86,             0.75,    12, 0.354215691713629,
  170L,  4,                 "1,4,-2", "item_banks/Berkowitz/berkowitz_midi_rhythmic_100bpm/Berkowitz498.mid", "item_banks/Berkowitz/berkowitz_musicxml/Berkowitz498.musicxml",                     "0.6,0.45,0.15,0.9",   39L, 4.02509230155892e-07,    -14.73,       0.56,           1.18,         0.16, "minor",                1.94,                0.73,               0.11,       0.28,           0,           0.52,                 "[1,4,-2]",           2.33,          4,           1,              0.5,            1,              1,              0.5,     7,  0.28094065951228,
  22L,  6,           "-2,-1,1,5,-2", "item_banks/Berkowitz/berkowitz_midi_rhythmic_100bpm/Berkowitz209.mid", "item_banks/Berkowitz/berkowitz_musicxml/Berkowitz209.musicxml",               "0.2,0.2,0.2,0.6,0.2,0.2",    1L, 1.03207494911767e-08,    -18.39,       0.67,           1.45,         0.22, "minor",                2.08,                0.49,               0.17,       0.09,         0.6,           0.27,           "[-2,-1,1,5,-2]",            2.2,          5,           2,              0.5,          0.8,           0.83,             0.67,     6,  0.31628709163151,
  9L,  7,        "-4,4,1,-1,-4,-1",  "item_banks/Berkowitz/berkowitz_midi_rhythmic_100bpm/Berkowitz86.mid",  "item_banks/Berkowitz/berkowitz_musicxml/Berkowitz86.musicxml",         "0.3,0.3,0.45,0.15,0.3,0.3,0.3",    1L, 1.03207494911767e-08,    -18.39,       0.64,           1.12,          0.2, "minor",                2.33,               -0.46,               0.24,       0.16,         0.5,            0.3,        "[-4,4,1,-1,-4,-1]",            2.5,          4,           2,              0.4,         0.67,           0.57,             0.67,     6, 0.258798460944736,
  17L,  2,                      "1",  "item_banks/Berkowitz/berkowitz_midi_rhythmic_100bpm/Berkowitz90.mid",  "item_banks/Berkowitz/berkowitz_musicxml/Berkowitz90.musicxml",                               "0.6,0.6", 3355L, 3.46261145428979e-05,    -10.27,       0.41,           1.01,         0.16, "minor",                 0.5,                0.87,               0.02,          0,           1,            0.6,                      "[1]",              1,          1,           0,               NA,            1,              1,                0,     3,  0.14047032975614,
  17L,  8,       "2,0,0,0,-2,-1,-2", "item_banks/Berkowitz/berkowitz_midi_rhythmic_100bpm/Berkowitz115.mid", "item_banks/Berkowitz/berkowitz_musicxml/Berkowitz115.musicxml",       "0.3,0.6,0.6,0.6,0.6,0.6,0.6,0.6",    1L, 1.03207494911767e-08,    -18.39,       0.61,           1.02,         0.17, "major",                1.75,               -0.66,               0.11,       0.08,        0.86,           0.56,       "[2,0,0,0,-2,-1,-2]",              1,          2,           2,             0.33,         0.57,            0.5,             0.67,     5, 0.245823077073245,
  1L,  5,                "2,2,1,2", "item_banks/Berkowitz/berkowitz_midi_rhythmic_100bpm/Berkowitz378.mid", "item_banks/Berkowitz/berkowitz_musicxml/Berkowitz378.musicxml",              "0.15,0.15,0.15,0.15,0.15",  182L, 1.87837640739416e-06,    -13.19,       0.81,           1.43,         0.18, "major",                2.44,                0.97,               0.11,          0,           1,           0.15,                "[2,2,1,2]",           1.75,          2,           0,                0,          0.5,              1,                0,     9, 0.326162005158874,
  1L,  7,          "3,4,5,3,-1,-2", "item_banks/Berkowitz/berkowitz_midi_rhythmic_100bpm/Berkowitz361.mid", "item_banks/Berkowitz/berkowitz_musicxml/Berkowitz361.musicxml",           "0.3,0.3,0.3,0.6,0.6,0.3,0.3",    1L, 1.03207494911767e-08,    -18.39,       0.91,           1.66,         0.26, "minor",                5.39,                0.87,               0.29,       0.12,        0.67,           0.39,          "[3,4,5,3,-1,-2]",              3,          5,           1,              0.2,         0.83,           0.86,              0.5,    17, 0.354215691713629,
  19L,  3,                   "0,-5", "item_banks/Berkowitz/berkowitz_midi_rhythmic_100bpm/Berkowitz154.mid", "item_banks/Berkowitz/berkowitz_musicxml/Berkowitz154.musicxml",                           "0.3,0.3,0.6",   28L, 2.88980985752948e-07,    -15.06,       0.82,           1.08,         0.22, "major",                2.38,               -0.82,               0.08,       0.13,         0.5,            0.4,                   "[0,-5]",            2.5,          5,           1,                1,            1,           0.67,              0.5,     5, 0.128993318623324,
  31L,  7,       "11,-3,3,-3,-8,-3", "item_banks/Berkowitz/berkowitz_midi_rhythmic_100bpm/Berkowitz621.mid", "item_banks/Berkowitz/berkowitz_musicxml/Berkowitz621.musicxml",           "0.6,0.6,0.4,0.4,0.4,1.2,0.6",    1L, 1.03207494911767e-08,    -18.39,       0.51,           1.61,         0.21, "minor",                5.44,               -0.41,                0.5,        0.2,         0.5,            0.6,       "[11,-3,3,-3,-8,-3]",           5.17,         11,           3,              0.6,         0.67,           0.57,             0.75,    14, 0.273946931852977,
  5L,  5,              "1,10,-8,2", "item_banks/Berkowitz/berkowitz_midi_rhythmic_100bpm/Berkowitz349.mid", "item_banks/Berkowitz/berkowitz_musicxml/Berkowitz349.musicxml",                   "0.6,0.6,0.6,0.9,0.3",    2L, 2.06414989823535e-08,     -17.7,       0.34,           1.05,         0.15, "minor",                3.93,                0.43,               0.33,       0.19,         0.5,            0.6,              "[1,10,-8,2]",           5.25,         10,           2,             0.67,            1,              1,             0.67,    13, 0.326162005158874,
  11L,  4,                "-2,-7,2", "item_banks/Berkowitz/berkowitz_midi_rhythmic_100bpm/Berkowitz429.mid", "item_banks/Berkowitz/berkowitz_musicxml/Berkowitz429.musicxml",                       "1.2,0.6,0.6,0.3",   17L, 1.75452741350004e-07,    -15.56,       0.72,           1.12,         0.15, "major",                3.67,               -0.83,               0.17,       0.21,        0.33,           0.67,                "[-2,-7,2]",           3.67,          7,           1,              0.5,            1,              1,              0.5,     9,  0.28094065951228
)



test_that("subset_item_bank works", {
  # example created with datapasta::tribble_paste

  test1 <- itembankr::subset_item_bank(test_df, item_length = c(3,7))


  expect_true(all.equal(test1, tibble::tribble(
    ~start, ~N,            ~melody,                                                             ~midi_file,                                                  ~musicxml_file,                      ~durations, ~freq,            ~rel_freq, ~log_freq, ~tonalness, ~tonal.clarity, ~tonal.spike,   ~mode, ~step.cont.glob.var, ~step.cont.glob.dir, ~step.cont.loc.var, ~d.entropy, ~d.eq.trans, ~mean_duration,               ~value, ~mean_int_size, ~int_range, ~dir_change, ~mean_dir_change, ~int_variety, ~pitch_variety, ~mean_run_length, ~span,        ~i.entropy,
    19L,  3,              "2,2",  "item_banks/Berkowitz/berkowitz_midi_rhythmic_100bpm/Berkowitz23.mid",  "item_banks/Berkowitz/berkowitz_musicxml/Berkowitz23.musicxml",                   "0.6,0.6,0.6", 1015L, 1.04755607335444e-05,    -11.47,       0.56,            1.3,         0.18, "major",                1.65,                0.94,               0.06,          0,           1,            0.6,              "[2,2]",              2,          2,           0,                0,          0.5,              1,                0,     6, 0.222640205127417,
    24L,  3,              "2,3", "item_banks/Berkowitz/berkowitz_midi_rhythmic_100bpm/Berkowitz174.mid", "item_banks/Berkowitz/berkowitz_musicxml/Berkowitz174.musicxml",                   "0.3,0.3,0.3",  172L,  1.7751689124824e-06,    -13.24,       0.73,            1.1,          0.2, "major",                2.07,                0.94,               0.08,          0,           1,            0.3,              "[2,3]",            2.5,          3,           0,                0,            1,              1,                0,     7, 0.222640205127417,
    35L,  6,    "-2,5,-3,-2,-5", "item_banks/Berkowitz/berkowitz_midi_rhythmic_100bpm/Berkowitz287.mid", "item_banks/Berkowitz/berkowitz_musicxml/Berkowitz287.musicxml",       "0.6,0.6,0.6,0.6,0.6,0.6",    1L, 1.03207494911767e-08,    -18.39,       0.68,           1.15,         0.15, "major",                3.06,                -0.6,               0.26,          0,           1,            0.6,    "[-2,5,-3,-2,-5]",            3.4,          5,           2,              0.5,          0.8,           0.67,             0.67,    10, 0.269463648379464,
    9L,  5,        "-1,-2,2,1", "item_banks/Berkowitz/berkowitz_midi_rhythmic_100bpm/Berkowitz550.mid", "item_banks/Berkowitz/berkowitz_musicxml/Berkowitz550.musicxml",           "0.9,0.3,0.3,0.3,0.6",  102L, 1.05271644810003e-06,    -13.76,       0.52,           1.27,          0.2, "minor",                 1.1,                   0,               0.09,       0.19,         0.5,           0.48,        "[-1,-2,2,1]",            1.5,          2,           1,             0.33,            1,            0.6,              0.5,     3, 0.213785741353962,
    8L,  4,           "1,2,-7", "item_banks/Berkowitz/berkowitz_midi_rhythmic_100bpm/Berkowitz105.mid", "item_banks/Berkowitz/berkowitz_musicxml/Berkowitz105.musicxml",               "0.6,0.6,0.6,0.6",   56L, 5.77961971505897e-07,    -14.36,       0.84,           1.53,         0.21, "major",                2.57,               -0.42,               0.16,          0,           1,            0.6,           "[1,2,-7]",           3.33,          7,           1,              0.5,            1,              1,              0.5,     7,  0.28094065951228,
    5L,  3,              "3,9", "item_banks/Berkowitz/berkowitz_midi_rhythmic_100bpm/Berkowitz510.mid", "item_banks/Berkowitz/berkowitz_musicxml/Berkowitz510.musicxml",                 "0.15,0.15,0.3",    4L, 4.12829979647069e-08,       -17,       0.84,           1.61,         0.28, "minor",                5.14,                0.91,               0.19,       0.13,         0.5,            0.2,              "[3,9]",              6,          9,           0,                0,            1,              1,                0,    14, 0.222640205127417,
    33L,  5,        "9,3,-2,-1", "item_banks/Berkowitz/berkowitz_midi_rhythmic_100bpm/Berkowitz121.mid", "item_banks/Berkowitz/berkowitz_musicxml/Berkowitz121.musicxml",           "1.2,0.6,0.9,0.3,0.6",    3L, 3.09622484735302e-08,    -17.29,       0.72,           1.42,         0.27, "minor",                4.18,                0.63,               0.23,       0.27,           0,           0.72,        "[9,3,-2,-1]",           3.75,          9,           1,             0.33,            1,            0.8,              0.5,    14, 0.269973873256418,
    6L,  3,            "-2,-5", "item_banks/Berkowitz/berkowitz_midi_rhythmic_100bpm/Berkowitz247.mid", "item_banks/Berkowitz/berkowitz_musicxml/Berkowitz247.musicxml",                   "0.6,0.6,0.3",  112L, 1.15592394301179e-06,    -13.67,       0.77,           1.13,         0.17, "major",                2.97,               -0.92,               0.11,       0.13,         0.5,            0.5,            "[-2,-5]",            3.5,          5,           0,                0,            1,              1,                0,     7, 0.222640205127417,
    8L,  6,     "-1,-2,-1,1,2", "item_banks/Berkowitz/berkowitz_midi_rhythmic_100bpm/Berkowitz407.mid", "item_banks/Berkowitz/berkowitz_musicxml/Berkowitz407.musicxml",       "0.6,0.6,0.3,0.3,0.3,0.3",   56L, 5.77961971505897e-07,    -14.36,       0.56,           1.48,         0.22, "minor",                1.43,               -0.41,               0.11,       0.13,         0.8,            0.4,     "[-1,-2,-1,1,2]",            1.4,          2,           1,             0.25,          0.8,           0.67,              0.5,     4, 0.269463648379464,
    9L,  4,          "8,-2,-1", "item_banks/Berkowitz/berkowitz_midi_rhythmic_100bpm/Berkowitz132.mid", "item_banks/Berkowitz/berkowitz_musicxml/Berkowitz132.musicxml",              "0.3,0.6,0.3,0.45",    8L, 8.25659959294138e-08,    -16.31,       0.66,           1.68,         0.25, "minor",                2.97,                0.48,               0.17,       0.21,           0,           0.41,          "[8,-2,-1]",           3.67,          8,           1,              0.5,            1,              1,              0.5,    10,  0.28094065951228,
    32L,  4,           "-1,6,2", "item_banks/Berkowitz/berkowitz_midi_rhythmic_100bpm/Berkowitz591.mid", "item_banks/Berkowitz/berkowitz_musicxml/Berkowitz591.musicxml",               "0.3,0.6,0.9,0.3",    1L, 1.03207494911767e-08,    -18.39,       0.65,           1.25,         0.19, "major",                3.37,                0.87,               0.14,       0.21,           0,           0.52,           "[-1,6,2]",              3,          6,           1,              0.5,            1,              1,              0.5,     8,  0.28094065951228,
    11L,  5,         "1,-1,1,2",  "item_banks/Berkowitz/berkowitz_midi_rhythmic_100bpm/Berkowitz88.mid",  "item_banks/Berkowitz/berkowitz_musicxml/Berkowitz88.musicxml",           "0.9,0.3,0.6,0.9,0.3",   74L, 7.63735462347078e-07,    -14.09,       0.46,           1.11,         0.18, "minor",                 1.1,                0.76,               0.08,       0.21,           0,            0.6,         "[1,-1,1,2]",           1.25,          2,           2,             0.67,         0.75,            0.6,             0.67,     5, 0.213785741353962,
    4L,  7,  "2,-2,-1,-2,-2,2",  "item_banks/Berkowitz/berkowitz_midi_rhythmic_100bpm/Berkowitz73.mid",  "item_banks/Berkowitz/berkowitz_musicxml/Berkowitz73.musicxml", "0.6,0.45,0.15,0.3,0.3,1.2,0.3",   13L, 1.34169743385297e-07,    -15.82,       0.74,           1.18,         0.18, "minor",                2.21,               -0.84,               0.18,        0.3,        0.17,           0.47,  "[2,-2,-1,-2,-2,2]",           1.83,          2,           2,              0.4,          0.5,           0.71,             0.67,     7, 0.314081311783303,
    13L,  7,  "-2,-3,1,-7,-1,1", "item_banks/Berkowitz/berkowitz_midi_rhythmic_100bpm/Berkowitz347.mid", "item_banks/Berkowitz/berkowitz_musicxml/Berkowitz347.musicxml",   "1.2,1.2,0.6,0.6,1.2,0.3,0.3",    1L, 1.03207494911767e-08,    -18.39,       0.47,           1.06,         0.16, "major",                4.54,               -0.93,               0.24,       0.22,         0.5,           0.77,  "[-2,-3,1,-7,-1,1]",            2.5,          7,           3,              0.6,         0.83,           0.86,             0.75,    12, 0.354215691713629,
    170L,  4,           "1,4,-2", "item_banks/Berkowitz/berkowitz_midi_rhythmic_100bpm/Berkowitz498.mid", "item_banks/Berkowitz/berkowitz_musicxml/Berkowitz498.musicxml",             "0.6,0.45,0.15,0.9",   39L, 4.02509230155892e-07,    -14.73,       0.56,           1.18,         0.16, "minor",                1.94,                0.73,               0.11,       0.28,           0,           0.52,           "[1,4,-2]",           2.33,          4,           1,              0.5,            1,              1,              0.5,     7,  0.28094065951228,
    22L,  6,     "-2,-1,1,5,-2", "item_banks/Berkowitz/berkowitz_midi_rhythmic_100bpm/Berkowitz209.mid", "item_banks/Berkowitz/berkowitz_musicxml/Berkowitz209.musicxml",       "0.2,0.2,0.2,0.6,0.2,0.2",    1L, 1.03207494911767e-08,    -18.39,       0.67,           1.45,         0.22, "minor",                2.08,                0.49,               0.17,       0.09,         0.6,           0.27,     "[-2,-1,1,5,-2]",            2.2,          5,           2,              0.5,          0.8,           0.83,             0.67,     6,  0.31628709163151,
    9L,  7,  "-4,4,1,-1,-4,-1",  "item_banks/Berkowitz/berkowitz_midi_rhythmic_100bpm/Berkowitz86.mid",  "item_banks/Berkowitz/berkowitz_musicxml/Berkowitz86.musicxml", "0.3,0.3,0.45,0.15,0.3,0.3,0.3",    1L, 1.03207494911767e-08,    -18.39,       0.64,           1.12,          0.2, "minor",                2.33,               -0.46,               0.24,       0.16,         0.5,            0.3,  "[-4,4,1,-1,-4,-1]",            2.5,          4,           2,              0.4,         0.67,           0.57,             0.67,     6, 0.258798460944736,
    1L,  5,          "2,2,1,2", "item_banks/Berkowitz/berkowitz_midi_rhythmic_100bpm/Berkowitz378.mid", "item_banks/Berkowitz/berkowitz_musicxml/Berkowitz378.musicxml",      "0.15,0.15,0.15,0.15,0.15",  182L, 1.87837640739416e-06,    -13.19,       0.81,           1.43,         0.18, "major",                2.44,                0.97,               0.11,          0,           1,           0.15,          "[2,2,1,2]",           1.75,          2,           0,                0,          0.5,              1,                0,     9, 0.326162005158874,
    1L,  7,    "3,4,5,3,-1,-2", "item_banks/Berkowitz/berkowitz_midi_rhythmic_100bpm/Berkowitz361.mid", "item_banks/Berkowitz/berkowitz_musicxml/Berkowitz361.musicxml",   "0.3,0.3,0.3,0.6,0.6,0.3,0.3",    1L, 1.03207494911767e-08,    -18.39,       0.91,           1.66,         0.26, "minor",                5.39,                0.87,               0.29,       0.12,        0.67,           0.39,    "[3,4,5,3,-1,-2]",              3,          5,           1,              0.2,         0.83,           0.86,              0.5,    17, 0.354215691713629,
    19L,  3,             "0,-5", "item_banks/Berkowitz/berkowitz_midi_rhythmic_100bpm/Berkowitz154.mid", "item_banks/Berkowitz/berkowitz_musicxml/Berkowitz154.musicxml",                   "0.3,0.3,0.6",   28L, 2.88980985752948e-07,    -15.06,       0.82,           1.08,         0.22, "major",                2.38,               -0.82,               0.08,       0.13,         0.5,            0.4,             "[0,-5]",            2.5,          5,           1,                1,            1,           0.67,              0.5,     5, 0.128993318623324,
    31L,  7, "11,-3,3,-3,-8,-3", "item_banks/Berkowitz/berkowitz_midi_rhythmic_100bpm/Berkowitz621.mid", "item_banks/Berkowitz/berkowitz_musicxml/Berkowitz621.musicxml",   "0.6,0.6,0.4,0.4,0.4,1.2,0.6",    1L, 1.03207494911767e-08,    -18.39,       0.51,           1.61,         0.21, "minor",                5.44,               -0.41,                0.5,        0.2,         0.5,            0.6, "[11,-3,3,-3,-8,-3]",           5.17,         11,           3,              0.6,         0.67,           0.57,             0.75,    14, 0.273946931852977,
    5L,  5,        "1,10,-8,2", "item_banks/Berkowitz/berkowitz_midi_rhythmic_100bpm/Berkowitz349.mid", "item_banks/Berkowitz/berkowitz_musicxml/Berkowitz349.musicxml",           "0.6,0.6,0.6,0.9,0.3",    2L, 2.06414989823535e-08,     -17.7,       0.34,           1.05,         0.15, "minor",                3.93,                0.43,               0.33,       0.19,         0.5,            0.6,        "[1,10,-8,2]",           5.25,         10,           2,             0.67,            1,              1,             0.67,    13, 0.326162005158874,
    11L,  4,          "-2,-7,2", "item_banks/Berkowitz/berkowitz_midi_rhythmic_100bpm/Berkowitz429.mid", "item_banks/Berkowitz/berkowitz_musicxml/Berkowitz429.musicxml",               "1.2,0.6,0.6,0.3",   17L, 1.75452741350004e-07,    -15.56,       0.72,           1.12,         0.15, "major",                3.67,               -0.83,               0.17,       0.21,        0.33,           0.67,          "[-2,-7,2]",           3.67,          7,           1,              0.5,            1,              1,              0.5,     9,  0.28094065951228
  )))


  test2 <- musicassessr::item_sampler(test_df, 6)



})




